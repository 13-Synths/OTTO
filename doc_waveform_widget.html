<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>waveform_widget.hpp</title>
</head>
<body>
<article id="standardese-waveform_widget.hpp" class="standardese-file-documentation">
<h1 class="standardese-file-documentation-heading">Header file <code>waveform_widget.hpp</code></h1>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="pre">#include</span> <span class="pre">&quot;</span><span class="typ dec var fun">core&#x2F;ui&#x2F;drawing.hpp</span><span class="pre">&quot;</span>

<span class="pre">#include</span> <span class="pre">&quot;</span><span class="typ dec var fun">core&#x2F;ui&#x2F;widget.hpp</span><span class="pre">&quot;</span>

<span class="pre">#include</span> <span class="pre">&quot;</span><span class="typ dec var fun">util&#x2F;audio.hpp</span><span class="pre">&quot;</span>

<span class="pre">#include</span> <span class="pre">&quot;</span><span class="typ dec var fun">util&#x2F;cache.hpp</span><span class="pre">&quot;</span>

<span class="pre">#include</span> <span class="pre">&quot;</span><span class="typ dec var fun">util&#x2F;algorithm.hpp</span><span class="pre">&quot;</span>

<span class="kwd">namespace</span> <span class="typ dec var fun">otto</span>
<span class="pun">{</span>
    <span class="kwd">namespace</span> <span class="typ dec var fun">ui</span>
    <span class="pun">{</span>
        <span class="kwd">namespace</span> <span class="typ dec var fun">widgets</span>
        <span class="pun">{</span>
            <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Container</span><span class="pun">&gt;</span>
            <span class="kwd">struct</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E"><span class="typ dec var fun">Waveform</span></a><span class="pun">;</span>

            <span class="kwd">virtual</span> <span class="kwd">void</span> <span class="typ dec var fun">Waveform&lt;Container&gt;::</span><span class="typ dec var fun">draw</span><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span> <span class="typ dec var fun">ctx</span><span class="pun">)</span><span class="pun">;</span>

            <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Plotter</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">C</span><span class="pun">&gt;</span>
            <span class="kwd">void</span> <span class="typ dec var fun">Waveform&lt;Container&gt;::</span><span class="typ dec var fun">draw</span><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span> <span class="typ dec var fun">ctx</span><span class="pun">,</span> <span class="typ dec var fun">Plotter</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">p</span><span class="pun">)</span><span class="pun">;</span>

            <span class="kwd">void</span> <span class="typ dec var fun">Waveform&lt;Container&gt;::</span><span class="typ dec var fun">draw_range</span><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span> <span class="typ dec var fun">ctx</span><span class="pun">,</span> <span class="typ dec var fun">otto::ui::widgets::Waveform::Range</span> <span class="typ dec var fun">subrange</span><span class="pun">)</span><span class="pun">;</span>

            <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Plotter</span><span class="pun">,</span> <span class="kwd">typename</span> <span class="typ dec var fun">C</span><span class="pun">&gt;</span>
            <span class="kwd">void</span> <span class="typ dec var fun">Waveform&lt;Container&gt;::</span><span class="typ dec var fun">draw_range</span><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span> <span class="typ dec var fun">ctx</span><span class="pun">,</span> <span class="typ dec var fun">otto::ui::widgets::Waveform::Range</span> <span class="typ dec var fun">subrange</span><span class="pun">,</span> <span class="typ dec var fun">Plotter</span><span class="pun">&amp;&amp;</span> <span class="typ dec var fun">p</span><span class="pun">)</span><span class="pun">;</span>

            <span class="kwd">void</span> <span class="typ dec var fun">Waveform&lt;Container&gt;::PointCache::</span><span class="typ dec var fun">refresh</span><span class="pun">(</span><span class="pun">)</span><span class="pun">;</span>

            <span class="typ dec var fun">std::size_t</span> <span class="typ dec var fun">Waveform&lt;Container&gt;::PointCache::</span><span class="typ dec var fun">clamp</span><span class="pun">(</span><span class="typ dec var fun">std::size_t</span> <span class="typ dec var fun">val</span><span class="pun">)</span> <span class="kwd">const</span><span class="pun">;</span>

            <span class="pun">;</span>
        <span class="pun">}</span>
    <span class="pun">}</span>
<span class="pun">}</span>
</code></pre>
<section id="standardese-otto" class="standardese-entity-documentation">
<section id="standardese-otto::ui" class="standardese-entity-documentation">
<section id="standardese-otto::ui::widgets" class="standardese-entity-documentation">
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Struct <code>otto::ui::widgets::Waveform</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Container</span><span class="pun">&gt;</span>
<span class="kwd">struct</span> <span class="typ dec var fun">Waveform</span>
<span class="pun">:</span> <span class="typ dec var fun">Widget</span>
<span class="pun">{</span>
    <span class="kwd">using</span> <span class="typ dec var fun">Range</span> <span class="pun">=</span> <span class="typ dec var fun">util::audio::Section</span><span class="pun">&lt;</span>int<span class="pun">&gt;</span><span class="pun">;</span>

    <span class="typ dec var fun">util::audio::Section</span><span class="pun">&lt;</span>float<span class="pun">&gt;</span> <span class="typ dec var fun">radius_range</span> <span class="pun">=</span> <span class="pun">{</span><span class="lit">2.f</span><span class="pun">,</span> <span class="lit">4.f</span><span class="pun">;</span>

    <span class="typ dec var fun">Waveform</span><span class="pun">(</span><span class="typ dec var fun">Container</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">cont</span><span class="pun">,</span> <span class="typ dec var fun">vg::Size</span> <span class="typ dec var fun">s</span><span class="pun">,</span> <span class="kwd">float</span> <span class="typ dec var fun">top_val</span> <span class="pun">=</span> <span class="lit">1.f</span><span class="pun">)</span><span class="pun">;</span>

    <span class="kwd">virtual</span> <span class="kwd">void</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::draw(vg::Canvas&amp;)"><span class="typ dec var fun">draw</span></a><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span><span class="pun">)</span> <span class="kwd">override</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Plotter</span><span class="pun">&gt;</span>
    <span class="kwd">void</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::draw%3CPlotter%3E(vg::Canvas&amp;,Plotter&amp;&amp;)"><span class="typ dec var fun">draw</span></a><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span><span class="pun">,</span> <span class="typ dec var fun">Plotter</span><span class="pun">&amp;&amp;</span><span class="pun">)</span><span class="pun">;</span>

    <span class="kwd">void</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::draw_range(vg::Canvas&amp;,otto::ui::widgets::Waveform::Range)"><span class="typ dec var fun">draw_range</span></a><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span><span class="pun">,</span> <span class="typ dec var fun">otto::ui::widgets::Waveform::Range</span> <span class="typ dec var fun">subrange</span><span class="pun">)</span><span class="pun">;</span>

    <span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Plotter</span><span class="pun">&gt;</span>
    <span class="kwd">void</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::draw_range%3CPlotter%3E(vg::Canvas&amp;,otto::ui::widgets::Waveform::Range,Plotter&amp;&amp;)"><span class="typ dec var fun">draw_range</span></a><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span><span class="pun">,</span> <span class="typ dec var fun">otto::ui::widgets::Waveform::Range</span> <span class="typ dec var fun">subrange</span><span class="pun">,</span> <span class="typ dec var fun">Plotter</span><span class="pun">&amp;&amp;</span><span class="pun">)</span><span class="pun">;</span>

    <span class="typ dec var fun">Range</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::range()const"><span class="typ dec var fun">range</span></a><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span><span class="pun">;</span>

    <span class="kwd">void</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::range(otto::ui::widgets::Waveform::Range)"><span class="typ dec var fun">range</span></a><span class="pun">(</span><span class="typ dec var fun">otto::ui::widgets::Waveform::Range</span> <span class="typ dec var fun">r</span><span class="pun">)</span><span class="pun">;</span>

    <span class="kwd">float</span> <span class="typ dec var fun">top_val</span><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span><span class="pun">;</span>

    <span class="kwd">void</span> <span class="typ dec var fun">top_val</span><span class="pun">(</span><span class="kwd">float</span> <span class="typ dec var fun">v</span><span class="pun">)</span><span class="pun">;</span>

    <span class="typ dec var fun">vg::Point</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::point(int)"><span class="typ dec var fun">point</span></a><span class="pun">(</span><span class="kwd">int</span> <span class="typ dec var fun">index</span><span class="pun">)</span><span class="pun">;</span>

    <span class="typ dec var fun">vg::Point</span> <span class="typ dec var fun">point_floor</span><span class="pun">(</span><span class="kwd">int</span> <span class="typ dec var fun">index</span><span class="pun">)</span><span class="pun">;</span>

    <span class="typ dec var fun">vg::Point</span> <span class="typ dec var fun">point_ceil</span><span class="pun">(</span><span class="kwd">int</span> <span class="typ dec var fun">index</span><span class="pun">)</span><span class="pun">;</span>

<span class="kwd">private</span><span class="pun">:</span>
    <span class="kwd">struct</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::PointCache"><span class="typ dec var fun">PointCache</span></a><span class="pun">;</span>

    <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::PointCache"><span class="typ dec var fun">PointCache</span></a> <span class="typ dec var fun">point_cache</span><span class="pun">;</span>

    <span class="kwd">using</span> <span class="typ dec var fun">point_iter</span> <span class="pun">=</span> <span class="typ dec var fun">typename std::vector&lt;vg::Point&gt;::const_iterator</span><span class="pun">;</span>

    <span class="typ dec var fun">Range</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::_range"><span class="typ dec var fun">_range</span></a> <span class="pun">=</span> <span class="pun">{</span><span class="lit">0</span><span class="pun">,</span> <span class="lit">0</span><span class="pun">;</span>

    <span class="kwd">float</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::_top_val"><span class="typ dec var fun">_top_val</span></a> <span class="pun">=</span> <span class="lit">1.f</span><span class="pun">;</span>

    <span class="typ dec var fun">Container</span> <span class="kwd">const</span><span class="pun">&amp;</span> <span class="typ dec var fun">container</span><span class="pun">;</span>
<span class="pun">};</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;-brief" class="standardese-brief-section">Draws a waveform from data.</p>
<h4 class="standardese-list-section-heading">Member variables</h4>
<ul id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;-members" class="standardese-list-section">
<li id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::_range">
<dl id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::_range" class="standardese-term-description-item">
<dt><code>_range</code></dt>
<dd>&mdash; The range in samples of the full widget width</dd>
</dl>
</li>
</ul>
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw(vg::Canvas&amp;)" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>draw</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">virtual</span> <span class="kwd">void</span> <span class="typ dec var fun">draw</span><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span><span class="pun">)</span> <span class="kwd">override</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw(vg::Canvas&amp;)-brief" class="standardese-brief-section">Draw the entire waveform using the default plotter (<code>plotRounded</code>).</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw&lt;Plotter&gt;(vg::Canvas&amp;,Plotter&amp;&amp;)" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>draw</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Plotter</span><span class="pun">&gt;</span>
<span class="kwd">void</span> <span class="typ dec var fun">draw</span><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span><span class="pun">,</span> <span class="typ dec var fun">Plotter</span><span class="pun">&amp;&amp;</span><span class="pun">)</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw&lt;Plotter&gt;(vg::Canvas&amp;,Plotter&amp;&amp;)-brief" class="standardese-brief-section">Draw the entire waveform using <code>Plotter</code></p>
<dl id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw&lt;Plotter&gt;(vg::Canvas&amp;,Plotter&amp;&amp;)-inline-sections" class="standardese-inline-sections">
<dt>Requires:</dt>
<dd><code>Plotter</code> should be invocable as <code>void(ctx, first, last)</code></dd>
</dl>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw_range(vg::Canvas&amp;,otto::ui::widgets::Waveform::Range)" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>draw_range</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">void</span> <span class="typ dec var fun">draw_range</span><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span><span class="pun">,</span> <span class="typ dec var fun">otto::ui::widgets::Waveform::Range</span> <span class="typ dec var fun">subrange</span><span class="pun">)</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw_range(vg::Canvas&amp;,otto::ui::widgets::Waveform::Range)-brief" class="standardese-brief-section">Draw a subset of the waveform using the default plotter (<code>plotRounded</code>).</p>
<dl id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw_range(vg::Canvas&amp;,otto::ui::widgets::Waveform::Range)-inline-sections" class="standardese-inline-sections">
<dt>Requires:</dt>
<dd><code>subrange</code> should be within <code>Waveform&lt;C&gt;::range</code> -
<code>range.in</code></dd>
</dl>
<p>Useful for colouring different parts differently.</p>
<pre><code>   The range to draw, with 0 at `[*Waveform&lt;C&gt;::range]().in`
</code></pre>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw_range&lt;Plotter&gt;(vg::Canvas&amp;,otto::ui::widgets::Waveform::Range,Plotter&amp;&amp;)" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>draw_range</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">template</span> <span class="pun">&lt;</span><span class="kwd">typename</span> <span class="typ dec var fun">Plotter</span><span class="pun">&gt;</span>
<span class="kwd">void</span> <span class="typ dec var fun">draw_range</span><span class="pun">(</span><a href="doc_canvas.html#standardese-otto::ui::vg::Canvas"><span class="typ dec var fun">vg::Canvas</span></a><span class="pun">&amp;</span><span class="pun">,</span> <span class="typ dec var fun">otto::ui::widgets::Waveform::Range</span> <span class="typ dec var fun">subrange</span><span class="pun">,</span> <span class="typ dec var fun">Plotter</span><span class="pun">&amp;&amp;</span><span class="pun">)</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw_range&lt;Plotter&gt;(vg::Canvas&amp;,otto::ui::widgets::Waveform::Range,Plotter&amp;&amp;)-brief" class="standardese-brief-section">Draw a subset of the waveform using <code>Plotter</code>.</p>
<dl id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::draw_range&lt;Plotter&gt;(vg::Canvas&amp;,otto::ui::widgets::Waveform::Range,Plotter&amp;&amp;)-inline-sections" class="standardese-inline-sections">
<dt>Requires:</dt>
<dd><code>subrange</code> should be within <code>Waveform&lt;C&gt;::range</code> -
<code>range.in</code></dd>
<dt>Requires:</dt>
<dd><code>Plotter</code> should be invocable as <code>void(ctx, first, last)</code></dd>
</dl>
<p>Useful for colouring different parts differently.</p>
<pre><code>   The range to draw, with 0 at [*Waveform&lt;C&gt;::range]()`().in`
</code></pre>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::range()const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>range</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="typ dec var fun">Range</span> <span class="typ dec var fun">range</span><span class="pun">(</span><span class="pun">)</span> <span class="kwd">const</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::range()const-brief" class="standardese-brief-section">The viewed range. Start and end indexes into the container coresponding
to left&#x2F;right edges of the widget</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::range(otto::ui::widgets::Waveform::Range)" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>range</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">void</span> <span class="typ dec var fun">range</span><span class="pun">(</span><span class="typ dec var fun">otto::ui::widgets::Waveform::Range</span> <span class="typ dec var fun">r</span><span class="pun">)</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::range(otto::ui::widgets::Waveform::Range)-brief" class="standardese-brief-section">Set the viewed range</p>
<p>Invalidates the cache if the new value is different from the old</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::point(int)" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>point</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="typ dec var fun">vg::Point</span> <span class="typ dec var fun">point</span><span class="pun">(</span><span class="kwd">int</span> <span class="typ dec var fun">index</span><span class="pun">)</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::point(int)-brief" class="standardese-brief-section">Get the graphical point for a sample index</p>
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::PointCache" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Struct <code>PointCache</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">struct</span> <span class="typ dec var fun">PointCache</span>
<span class="pun">:</span> <span class="typ dec var fun">util::cache_base&lt;PointCache&gt;</span>
<span class="pun">{</span>
    const Waveform&lt;Container&gt;<span class="pun">&amp;</span> <span class="typ dec var fun">wf</span><span class="pun">;</span>

    <span class="kwd">float</span> <span class="typ dec var fun">radius</span> <span class="pun">=</span> <span class="kwd">wf</span><span class="pun">.</span><span class="kwd">radius_range</span><span class="pun">.</span><span class="kwd">middle</span><span class="pun">(</span><span class="pun">;</span>

    <span class="kwd">float</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::PointCache::smpl_pr_px"><span class="typ dec var fun">smpl_pr_px</span></a> <span class="pun">=</span> <span class="kwd">wf</span><span class="pun">.</span><span class="kwd">_range</span><span class="pun">.</span><span class="kwd">size</span><span class="pun">(</span><span class="pun">)</span> <span class="pun">&#x2F;</span> <span class="kwd">wf</span><span class="pun">.</span><span class="kwd">size</span><span class="pun">.</span><span class="pun">;</span>

    <span class="kwd">float</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::PointCache::sp2r"><span class="typ dec var fun">sp2r</span></a><span class="pun">;</span>

    <span class="typ dec var fun">std::vector</span><span class="pun">&lt;</span>vg::Point<span class="pun">&gt;</span> <span class="typ dec var fun">points</span><span class="pun">;</span>

    <span class="typ dec var fun">PointCache</span><span class="pun">(</span>Waveform&lt;Container&gt;<span class="pun">*</span> <span class="typ dec var fun">wf</span><span class="pun">)</span><span class="pun">;</span>

<span class="kwd">private</span><span class="pun">:</span>
    <span class="kwd">virtual</span> <span class="kwd">void</span> <span class="typ dec var fun">refresh</span><span class="pun">(</span><span class="pun">)</span> <span class="kwd">override</span><span class="pun">;</span>

    <span class="typ dec var fun">std::size_t</span> <a href="doc_waveform_widget.html#standardese-otto::ui::widgets::Waveform%3CContainer%3E::PointCache::clamp(std::size_t)const"><span class="typ dec var fun">clamp</span></a><span class="pun">(</span><span class="typ dec var fun">std::size_t</span><span class="pun">)</span> <span class="kwd">const</span><span class="pun">;</span>
<span class="pun">};</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::PointCache-brief" class="standardese-brief-section">packaged, cached data</p>
<h4 class="standardese-list-section-heading">Member variables</h4>
<ul id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::PointCache-members" class="standardese-list-section">
<li id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::PointCache::smpl_pr_px">
<dl id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::PointCache::smpl_pr_px" class="standardese-term-description-item">
<dt><code>smpl_pr_px</code></dt>
<dd>&mdash; Samples pr px</dd>
</dl>
</li>
<li id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::PointCache::sp2r">
<dl id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::PointCache::sp2r" class="standardese-term-description-item">
<dt><code>sp2r</code></dt>
<dd>&mdash; Samples pr 2 * radius</dd>
</dl>
</li>
</ul>
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::PointCache::clamp(std::size_t)const" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Function <code>clamp</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="typ dec var fun">std::size_t</span> <span class="typ dec var fun">clamp</span><span class="pun">(</span><span class="typ dec var fun">std::size_t</span><span class="pun">)</span> <span class="kwd">const</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::PointCache::clamp(std::size_t)const-brief" class="standardese-brief-section">Clamp value to container size</p>
</section>
<hr class="standardese-entity-documentation-break" />
</section>
<hr class="standardese-entity-documentation-break" />
<section id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::_top_val" class="standardese-entity-documentation">
<h3 class="standardese-entity-documentation-heading">Variable <code>_top_val</code></h3>
<pre><code class="standardese-language-cpp standardese-entity-synopsis"><span class="kwd">float</span> <span class="typ dec var fun">_top_val</span> <span class="pun">=</span> <span class="lit">1.f</span><span class="pun">;</span>
</code></pre>
<p id="standardese-otto::ui::widgets::Waveform&lt;Container&gt;::_top_val-brief" class="standardese-brief-section">The value of the waveform at the top of the widget.</p>
<p>Everything above this will be clipped</p>
</section>
<hr class="standardese-entity-documentation-break" />
</section>
<hr class="standardese-entity-documentation-break" />
</section>
</section>
</section>
</article>
</body>
</html>
